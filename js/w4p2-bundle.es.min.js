/*!
 * Project: w4p2
 * Package: vjsa-advanced
 * Version: 1.0.0
 * Description: VJSA Advanced Academy Projects
 * Copyright:  2022
 * License: ISC
 */
function e(e,t={},n=document){if(!e)return;let a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});return n.dispatchEvent(a)}function t(t=[],n={}){Array.isArray(t)||(t=[t]);let a=Object.assign({days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],instanceName:""},n);Object.freeze(a);let s=new Date(...t);Object.defineProperties(this,{date:{value:s},_settings:{value:a}}),e("time:ready",{time:this})}t.prototype.getYear=function(){return this.date.getFullYear()},t.prototype.getMonth=function(){return this._settings.months[this.date.getMonth()]},t.prototype.getDay=function(){return this._settings.days[this.date.getDay()]},t.prototype.getDate=function(){return this.date.getDate()},t.prototype.getHours=function(){return this.date.getHours()},t.prototype.getMinutes=function(){return this.date.getMinutes()},t.prototype.getSeconds=function(){return this.date.getSeconds()},t.prototype.getLocaleString=function(e){return e=e||"en-US",this.date.toLocaleString(e)},t.prototype.addSeconds=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setSeconds(a.getSeconds()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"seconds",amount:n,instance:this})?s:new t(this.date,this._settings)},t.prototype.addMinutes=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setMinutes(a.getMinutes()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"minutes",amount:n,instance:this})?s:new t(this.date,this._settings)},t.prototype.addHours=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setHours(a.getHours()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"hours",amount:n,instance:this})?s:new t(this.date,this._settings)},t.prototype.addDays=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setDate(a.getDate()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"days",amount:n,instance:this})?s:new t(this.date,this._settings)},t.prototype.addMonths=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setMonth(a.getMonth()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"months",amount:n,instance:this})?s:new t(this.date,this._settings)},t.prototype.addYears=function(n){if(n=parseFloat(n),isNaN(n))throw"Not a valid number.";let a=new Date(this.date);a.setFullYear(a.getFullYear()+n);let s=new t(a,this._settings);return e("time:update",{time:s,type:"years",amount:n,instance:this})?s:new t(this.date,this._settings)};let n=document.getElementById("form"),a=document.getElementById("add-seconds"),s=document.getElementById("add-minutes"),i=document.getElementById("add-hours"),o=document.getElementById("add-days"),d=document.getElementById("add-months"),r=document.getElementById("add-years"),u=document.getElementById("history"),l=new t;n.reset(),u.innerHTML=`<p>Starting time: ${l.getLocaleString()}</p>`,n.addEventListener("submit",(function(e){e.preventDefault();let t=a.value,h=s.value,c=i.value,m=o.value,g=d.value,p=r.value,y=[];t&&(l=l.addSeconds(t),y.push(`${t} seconds added.`)),h&&(l=l.addMinutes(h),y.push(`${h} minutes added.`)),c&&(l=l.addHours(c),y.push(`${c} hours added.`)),m&&(l=l.addDays(m),y.push(`${m} days added.`)),g&&(l=l.addMonths(g),y.push(`${g} months added.`)),p&&(l=l.addYears(p),y.push(`${p} years added.`)),u.innerHTML+=`<p>${y.join(" ")} New time: ${l.getLocaleString()}</p>`,n.reset()}));let h=new t("October 31, 2021",{instanceName:"halloween"});console.log("Initial halloween constructor: ",h),document.addEventListener("time:update",(function(e){if(console.log("Instance name: "+e.detail.instance._settings.instanceName),console.log("Is halloween:","halloween"===e.detail.instance._settings.instanceName),"halloween"===e.detail.instance._settings.instanceName&&e.detail.time.date.getFullYear()>2021)return console.log("The instanceName is halloween and the year is greater than 2021. Canceled."),void e.preventDefault();console.log("Either the instanceName is not halloweeen or the year is less than or equal to 2021. Proceed.")})),h.addDays(3).addMonths(1).addYears(1),console.log("Halloween date after methods: "+h.date);
